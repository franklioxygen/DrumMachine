(this.webpackJsonpdrum=this.webpackJsonpdrum||[]).push([[0],{11:function(t,e,a){t.exports=a(17)},16:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(9),c=a.n(r),i=(a(16),a(2)),l=a(3),o=a(5),u=a(4),p=a(1),m=a(6),b=a(10),d=new Audio("audios/808/808_bd_long.mp3"),h=new Audio("audios/808/808_bd_short.mp3"),v=new Audio("audios/808/808_ch.mp3"),f=new Audio("audios/808/808_clap.mp3"),y=new Audio("audios/808/808_clav.mp3"),j=new Audio("audios/808/808_cowbell.mp3"),k=new Audio("audios/808/808_cym.mp3"),O=new Audio("audios/808/808_ht.mp3"),B=function(t,e){var a=d;switch(t){case"808_bd_long":a=d;break;case"808_bd_short":a=h;break;case"808_ch":a=v;break;case"808_clap":a=f;break;case"808_clav":a=y;break;case"808_cowbell":a=j;break;case"808_cym":a=k;break;case"808_ht":default:a=O}var n=a.cloneNode();n.loop=!1,n.volume=e/100,n.preload="auto";var s=n.play();void 0!==s&&s.catch((function(t){})).then((function(){}))},w=(a(7),function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(o.a)(this,Object(u.a)(e).call(this,t))).changeSel=a.changeSel.bind(Object(p.a)(a)),a.state={barId:a.props.barId,selected:!1,playNow:!1,clearSwitch:a.props.clearSwitch,doClear:!1},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"changeSel",value:function(){this.setState({selected:!this.state.selected})}},{key:"componentDidUpdate",value:function(){this.props.barId===this.props.currBar&&!0===this.state.selected&&B(this.props.instrument,this.props.vol),this.props.clearSwitch!==this.state.clearSwitch&&this.setState({clearSwitch:this.props.clearSwitch,selected:!1})}},{key:"render",value:function(){var t=this.state.barId===this.props.currBar;return s.a.createElement("span",{className:["bar"+this.state.selected+t,"bar"].join(" "),onClick:this.changeSel})}}]),e}(s.a.Component)),E=function(t){function e(){return Object(i.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("span",{className:["instrument","bar"].join(" ")},this.props.instrument)}}]),e}(s.a.Component),S=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(o.a)(this,Object(u.a)(e).call(this,t))).state={groupNum:4},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"track"},s.a.createElement(E,{instrument:this.props.instrument,onClick:this.selectAll}),Object(b.a)(Array(this.props.totalBars)).map((function(e,a){return s.a.createElement("span",{key:a},s.a.createElement(w,{barId:a,instrument:t.props.instrument,currBar:t.props.currBar,vol:t.props.vol,clearSwitch:t.props.clearSwitch}),(a+1)%t.state.groupNum===0&&a+1!==t.props.totalBars?".":null)})))}}]),e}(s.a.Component),_=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(o.a)(this,Object(u.a)(e).call(this,t))).state={beat:0,isOn:!1,bpm:120},a.playTimer=a.playTimer.bind(Object(p.a)(a)),a.pauseTimer=a.pauseTimer.bind(Object(p.a)(a)),a.stopTimer=a.stopTimer.bind(Object(p.a)(a)),a.adjustBpm=a.adjustBpm.bind(Object(p.a)(a)),a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"playTimer",value:function(){var t=this;this.setState({isOn:!0,beat:this.state.beat}),this.beat=setInterval((function(){t.setState({beat:t.state.beat===t.props.totalBars-1?0:t.state.beat+1}),t.props.beatHandler(t.state.beat)}),6e4/this.state.bpm)}},{key:"pauseTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.beat)}},{key:"stopTimer",value:function(){this.setState({beat:0,isOn:!1}),clearInterval(this.beat),this.props.stopHandler()}},{key:"adjustBpm",value:function(){var t=this;this.setState({bpm:document.getElementById("bpmRange").value}),clearInterval(this.beat),this.beat=setInterval((function(){t.setState({beat:t.state.beat===t.props.totalBars-1?0:t.state.beat+1}),t.props.beatHandler(t.state.beat)}),6e4/(4*this.state.bpm))}},{key:"render",value:function(){var t=0!==this.state.beat&&this.state.isOn?s.a.createElement("button",{className:"button",id:"playOrPauseBtn",onClick:this.pauseTimer},"\u275a\u275a"):s.a.createElement("button",{className:"button",id:"playOrPauseBtn",onClick:this.playTimer},"\u25ba"),e=s.a.createElement("button",{className:"button",id:"stopBtn",onClick:this.stopTimer,disabled:!this.state.isOn&&0===this.state.beat},"\u25fc");return s.a.createElement("span",null,s.a.createElement("input",{id:"bpmRange",type:"range",min:"30",max:"180",step:"5",className:"slider",value:this.state.bpm,onChange:this.adjustBpm}),s.a.createElement("label",{"data-testid":"bpmLabel",className:"label"},"BPM:",this.state.bpm),s.a.createElement("span",{className:"btn-group"},t,e))}}]),e}(s.a.Component),g=function(){window.addEventListener("keyup",(function(t){32===t.keyCode&&(t.preventDefault(),document.getElementById("playOrPauseBtn").click()),27===t.keyCode&&(t.preventDefault(),document.getElementById("stopBtn").click()),82===t.keyCode&&(t.preventDefault(),document.getElementById("clearBtn").click())}))},N=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(o.a)(this,Object(u.a)(e).call(this,t))).Track=s.a.createRef(),a.state={totalBars:16,currBar:null,volume:50,clearSwitch:!1,instrument:["808_bd_long","808_bd_short","808_ch","808_clap","808_clav","808_cowbell","808_cym","808_ht"]},a.beatHandler=a.beatHandler.bind(Object(p.a)(a)),a.stopHandler=a.stopHandler.bind(Object(p.a)(a)),a.adjustVol=a.adjustVol.bind(Object(p.a)(a)),a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"beatHandler",value:function(t){this.setState({currBar:t})}},{key:"stopHandler",value:function(){this.setState({currBar:null})}},{key:"adjustVol",value:function(){this.setState({volume:document.getElementById("volRange").value})}},{key:"clearAll",value:function(){this.setState({clearSwitch:!this.state.clearSwitch})}},{key:"componentDidMount",value:function(){g()}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"A Drum Beat Sequencer"),s.a.createElement("input",{id:"volRange",type:"range",min:"0",max:"100",step:"5",className:"slider",value:this.state.volume,onChange:this.adjustVol}),s.a.createElement("label",{"data-testid":"volLabel",className:"label"},"VOL:",this.state.volume,"%"),s.a.createElement(_,{beatHandler:this.beatHandler,stopHandler:this.stopHandler,totalBars:this.state.totalBars}),s.a.createElement("span",{className:"btn-group"},s.a.createElement("button",{className:"button",id:"clearBtn",onClick:function(){return t.clearAll()}},"\u21ba")),this.state.instrument.map((function(e,a){return s.a.createElement(S,{key:a,instrument:e,currBar:t.state.currBar,totalBars:t.state.totalBars,vol:t.state.volume,clearSwitch:t.state.clearSwitch})}))))}}]),e}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},7:function(t,e,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.62860795.chunk.js.map